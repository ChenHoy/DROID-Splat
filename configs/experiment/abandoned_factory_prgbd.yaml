# @package _global_
defaults:
  - override /data: TartanAir/abandonedfactory
  - override /tracking: tartanair

sleep_delay: 2.0
mode: prgbd

# NOTE the parameters here also depend on the number of strides you choose!
tracking:
  motion_filter:
    thresh: 5.0 

  frontend:
    thresh: 20.0
    window: 30 
    radius: 1
    nms: 0
    release_cache: False
  backend:
    window: 200
    thresh: 30.0
    radius: 2
    nms: 2
    # used for loop detection
    use_loop_closure: False # NOTE works well with True too
    loop_window: 150
    loop_thresh: 30.0
    loop_radius: 4
    loop_nms: 2

mapping:
  warmup: 20 # Wait until tracking gets to this frame
  delay: 40 # Delay between tracking and mapping
  feedback_mapping: True
  optimize_poses: True
  mapping_iters: 25 # Optimization iterations for selected views

  keyframes:
    n_last_frames: 10 # Always optimize the last n frames
    n_rand_frames: 0 # Optimize random global frames on top
    filter: # Parameter for filtering incoming points from the SLAM system
      confidence_thresh: 0.1 # Only take pixels above this confidence